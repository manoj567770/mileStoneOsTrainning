<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
	<link rel="stylesheet" href="css/task3.css" />
</head>
<body>
	<div id="persons"></div>
	<script>
		const persons = [{name:'Jack',age:28,city:'London',technology:'Android'},
		{name:'Mary',age:32,city:'Paris',technology:'React'},
		{name:'Bob',age:35,city:'New York',technology:'Angular'},
		{name:'Steve',age:26,city:'Delhi',technology:'Spring'}];


		showPersons();


		function showPersons(){
			const arr1 = persons.map(function(ele){
				let str = '<tr>';
				str+='<td class="td1">'+ele.name+'</td>';
				str+='<td class="td1">'+ele.age+'</td>';
				str+='<td class="td1">'+ele.city+'</td>';
				str+='<td class="td1">'+ele.technology+'</td>';
				str+='</tr>';
				return str;
			});
			let header = '<tr>';
			header+= 'Name:<input type="text" id="name"><br/>';
			header+= 'Age:<input type="text" id="age"><br/>';
			header+= 'City:<input type="text" id="city"><br/>';
			header+= 'Technology:<input type="text" id="tech"><br/>';
			header+= '<button onclick="addPerson()" id="add">Add Person</button>';
			header+= '<button onclick="removePerson()" id="remove">Remove Person</button>';
			header+='</tr>';
			let html = '<table class=\'table1\'>'+header+arr1.join('')+'</table1>';
			let element = document.getElementById('persons');
			element.innerHTML = html;
		}
		function addPerson(){
			let st = {};
			let element = document.getElementById('name').value;
			
			let arr1 = persons.find(function(ele){
				return ele.name==element;
			});
			if(arr1){
				 alert('Name already Exist');
				}
			else{
			st.name = document.getElementById('name').value;
			st.age = document.getElementById('age').value;
			st.city = document.getElementById('city').value;
			st.technology = document.getElementById('tech').value;
			persons.push(st);
			showPersons();
		}
		}
		function removePerson(){
		let element = document.getElementById('name').value;
		let index = persons.findIndex(function(st){
				return st.name==element;
			});
		if(index==-1){
			alert('no person found with the name')
		}else{
			persons.splice(index,1);
			showPersons();
		}
		}


	</script>

</body>
</html>